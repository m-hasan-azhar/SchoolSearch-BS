<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>School Detail</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg fixed-top">
  <div class="container">
    <a class="navbar-brand" href="#">Online Schools</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-between" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="school-detail.html">Back to School List</a></li>
        <li class="nav-item"><a class="nav-link" href="school-detail.html">School Detail</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Branches</a></li>
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="#">Login</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Register</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<div class="hero">
  <div class="container">
    <h1>Search for a School</h1>
    <p>Search any school of your desire and enroll your child</p>
  </div>

  <!-- Search Bar Section -->
<div class="container my-5 d-flex justify-content-center">
  <div class="d-flex flex-column flex-md-row align-items-center gap-2 px-3 py-2 bg-white rounded-pill shadow-sm" style="max-width: max-content;">
    <input
      type="text"
      class="form-control border-0"
      id="searchInput"
      placeholder="School Name, City, Location..."
      style="width: 220px; border-radius: 50px; font-size: 0.9rem; outline: none;" 
    />
    <div class="d-flex align-items-center gap-2">
      <i class="bi bi-geo-alt text-muted"></i>
      <select class="form-select border-0" id="searchInput" style="width: 140px; border-radius: 50px; font-size: 0.9rem; margin-bottom: 0px;">
        <option selected>Select One</option>
        <option value="1">Karachi</option>
        <option value="2">Lahore</option>
        <option value="3">Islamabad</option>
      </select>
    </div>
    <button class="btn btn-primary rounded-pill px-3 py-1" style="font-size: 0.9rem;">
      Find Schools
    </button>
  </div>
</div>

  <div class="wave"></div>
</div>

<div class="container mt-5">
  <div class="row">
    <!-- Filters (20%) -->
    <div class="col-md-3 col-lg-2 mb-4">
      <div class="filter-box d-flex flex-column justify-content-between">
        <div>
          <div class="filter-title">Filters</div>
    
          <div class="mb-2">
            <select class="form-select" id="countryFilter">
              <option selected disabled>Select Country</option>
              <option value="Pakistan">Pakistan</option>
              <option value="India">India</option>
              <option value="UAE">UAE</option>
            </select>
          </div>
    
          <div class="mb-2">
            <select class="form-select" id="cityFilter">
              <option selected disabled>Select City</option>
              <option value="Lahore">Lahore</option>
              <option value="Karachi">Karachi</option>
              <option value="Islamabad">Islamabad</option>
            </select>
          </div>
    
          <div class="mb-2">
            <select class="form-select" id="areaFilter">
              <option selected disabled>Select Area</option>
              <option value="DHA">DHA</option>
              <option value="Gulberg">Gulberg</option>
              <option value="Model Town">Model Town</option>
            </select>
          </div>
    
          <div class="mb-3">
            <select class="form-select" id="locationFilter">
              <option selected disabled>Select Location</option>
              <option value="Near Park">Near Park</option>
              <option value="Main Road">Main Road</option>
              <option value="Inside Colony">Inside Colony</option>
            </select>
          </div>
        </div>
    
        <div class="mt-auto">
          <button class="btn btn-primary w-100 mt-3">Filter Schools</button>
        </div>
      </div>
    </div>
    
    

    <!-- Card Area (50%) -->
<div class="col-md-6 col-lg-6 mb-4">
  <div id="cardContainer"></div>
  
  <nav class="mt-4">
    <ul class="pagination justify-content-center" id="pagination">
     
  </nav>
</div>

<!-- Ads (30%) -->
<div class="col-md-3 col-lg-4">
  <div class="p-4 bg-white shadow-sm rounded">
    <h5 class="text-center text-muted mb-4"></h5>

    <!-- Mock Ad 1 -->
    <div class="mb-4 border rounded shadow-sm p-3 bg-light">
      <small class="text-muted d-block mb-1">Sponsored</small>
      <a href="#" target="_blank" class="text-decoration-none text-dark">
        <div class="ad-img-container">
          <img src="https://picsum.photos/300/150?random=1" class="ad-img rounded mb-2" alt="Ad Banner">
        </div>
        <h6 class="mb-1">Top-Rated Schools Near You</h6>
        <p class="mb-0 text-muted small">Enroll today and get early admission discounts!</p>
      </a>
    </div>

    <!-- Mock Ad 2 -->
    <div class="mb-4 border rounded shadow-sm p-3 bg-light">
      <small class="text-muted d-block mb-1">Advertisement</small>
      <a href="#" target="_blank" class="text-decoration-none text-dark">
        <div class="ad-img-container">
          <img src="https://picsum.photos/300/150?random=2" class="ad-img rounded mb-2" alt="Ad Banner">
        </div>
        <h6 class="mb-1">Buy School Supplies Online</h6>
        <p class="mb-0 text-muted small">Back-to-school kits, uniforms & more. Fast delivery.</p>
      </a>
    </div>

    <!-- Mock Ad 3 -->
    <div class="mb-4 border rounded shadow-sm p-3 bg-light">
      <small class="text-muted d-block mb-1">Advertisement</small>
      <a href="#" target="_blank" class="text-decoration-none text-dark">
        <div class="ad-img-container">
          <img src="https://picsum.photos/300/150?random=1" class="ad-img rounded mb-2" alt="Ad Banner">
        </div>
        <h6 class="mb-1">Buy School Supplies Online</h6>
        <p class="mb-0 text-muted small">Back-to-school kits, uniforms & more. Fast delivery.</p>
      </a>
    </div>

  </div>
</div>


  </div>
</div>

<script>
  const navbar = document.querySelector('.navbar');

  window.addEventListener('scroll', () => {
    const scrollY = window.scrollY;
    const heroHeight = document.querySelector('.hero').offsetHeight;

    if (scrollY > heroHeight - 100) {
      navbar.classList.add('scrolled');
    } else {
      navbar.classList.remove('scrolled');
    }
  });

  const storedSchool = JSON.parse(localStorage.getItem("schoolDetails"));

let schoolData = [];

if (storedSchool) {
  const userSchool = {
    id: 1,
    name: storedSchool.schoolName || "Unnamed School",
    city: storedSchool.city || "Unknown City",
    country: storedSchool.country || "Unknown Country",
    description: storedSchool.description || "A great school to consider.",
    subjects: ["Math", "Science", "Arts"],
    date: new Date().toDateString(),
    experience: "2 Years",
    fees: "PKR 20K - 70K"
  };

  // Add user-submitted school + 14 dummy schools = 15 total
  const dummySchools = Array.from({ length: 14 }, (_, i) => ({
    id: i + 2,
    name: `School ${i + 2}`,
    city: "Lahore",
    country: "Pakistan",
    description: "This is a sample school description.",
    subjects: ["Science", "Math", "Arts"],
    date: "Apr 25, 2025",
    experience: "2 Years",
    fees: "PKR 20K - 70K"
  }));

  schoolData = [userSchool, ...dummySchools];
} else {
  // No stored data â€“ fallback to 15 dummy schools
  schoolData = Array.from({ length: 15 }, (_, i) => ({
    id: i + 1,
    name: `School ${i + 1}`,
    city: "Lahore",
    country: "Pakistan",
    description: "This is a sample school description.",
    subjects: ["Science", "Math", "Arts"],
    date: "Apr 25, 2025",
    experience: "2 Years",
    fees: "PKR 20K - 70K"
  }));
}


  const cardContainer = document.getElementById("cardContainer");
  const pagination = document.getElementById("pagination");
  const itemsPerPage = 5;
  let currentPage = 1;

  function renderCards(page) {
  cardContainer.innerHTML = "";
  const start = (page - 1) * itemsPerPage;
  const end = start + itemsPerPage;
  const cardsToShow = schoolData.slice(start, end);

  cardsToShow.forEach(school => {
    const subjects = school.subjects.map(sub => `<span class="badge bg-light text-dark rounded-pill px-3 py-2">${sub}</span>`).join(" ");
    const card = `
      <a href="school-full-details.html" class="text-decoration-none">
        <div class="card shadow-sm border-start border-primary border-1 p-4 mb-4">
          <div class="d-flex align-items-center gap-3 mb-3">
           <div class="d-flex justify-content-center align-items-center bg-primary text-white rounded" style="width: 80px; height: 80px;">
  <i class="bi bi-building" style="font-size: 2rem;"></i>
</div>
            <div>
              <h5 class="fw-bold mb-1" style="font-size: 1.2rem;">${school.name}</h5>
              <p class="text-muted mb-0" style="font-size: 0.9rem;">${school.city}, ${school.country}</p>
            </div>
          </div>
          <p class="text-muted mb-2" style="font-size: 0.95rem;">${school.description}</p>
          <div class="d-flex flex-wrap text-muted mb-3 gap-3" style="font-size: 0.85rem;">
            <span><i class="bi bi-calendar-event me-1"></i>${school.date}</span>
            <span><i class="bi bi-clock-history me-1"></i>${school.experience}</span>
            <span><i class="bi bi-cash-coin me-1"></i>${school.fees}</span>
          </div>
          <div class="d-flex flex-wrap gap-2">
            ${subjects}
          </div>
        </div>
      </a>
    `;
    cardContainer.innerHTML += card;
  });
}


  function setupPagination() {
    pagination.innerHTML = "";
    const pageCount = Math.ceil(schoolData.length / itemsPerPage);
    for (let i = 1; i <= pageCount; i++) {
      const li = document.createElement("li");
      li.className = `page-item ${i === currentPage ? "active" : ""}`;
      li.innerHTML = `<a class="page-link" href="#">${i}</a>`;
      li.addEventListener("click", (e) => {
        e.preventDefault();
        currentPage = i;
        renderCards(currentPage);
        setupPagination();
      });
      pagination.appendChild(li);
    }
  }

  // Initialize
  renderCards(currentPage);
  setupPagination();

  const schoolDetails = JSON.parse(localStorage.getItem('schoolDetails'));

  if (schoolDetails) {
    document.getElementById("schoolName").textContent = schoolDetails.schoolName;
    document.getElementById("location").textContent = `${schoolDetails.city}, ${schoolDetails.country}`;
    document.getElementById("description").textContent = `Located in ${schoolDetails.area}, this ${schoolDetails.gender}-only school is currently ${schoolDetails.status}.`;

    document.getElementById("date").textContent = new Date().toDateString();
    document.getElementById("experience").textContent = "2 Years"; // or custom data
    document.getElementById("fees").textContent = "PKR 20K - 70K"; // or actual fee
  }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
